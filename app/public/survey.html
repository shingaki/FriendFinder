<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Survey</title>

    <!-- Bootstrap File -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery.js"></script>

    <!-- Style -->
    <link rel="stylesheet" type="text/css" href="style.css">


</head>
<body>
<div class="container">
    <div class="text-center">
        <h1>Survey</h1></div>

    <div class="text-center"><h2>Answer A Few Questions</h2></div>
    <hr>
    <div>
        <h3><strong>About You</strong></h3></div>
    <h6>Provide your name and a link to your picture below.</h6>

    <form method="POST" role="form">
        <div class="form-group">
            <label for="name"><strong>Name*</strong></label>
            <input type="text" class="form-control" id="name" required>
        </div>
        <br>

        <div class="form-group">
            <label for="photo"><strong>Photo (Link)*</strong></label>
            <input type="text" class="form-control" id="photo" required>
        </div>

        <div class="text-left">*Required</div>
        <hr>


        <h5>Question 1</h5>
        <h6>You go on vacation every year?</h6>
        <select class="chosen-select" id="answer1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 2</h5>
        <h6>You've traveled outside of the United States?</h6>
        <select class="chosen-select" id="answer2">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 3</h5>
        <h6>You like to reading non-fiction books?</h6>
        <select class="chosen-select" id="answer3">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 4</h5>
        <h6>You enjoy dancing?</h6>
        <select class="chosen-select" id="answer4">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 5</h5>
        <h6>You like to exercise?</h6>
        <select class="chosen-select" id="answer5">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 6</h5>
        <h6>You enjoy drinking fine wines?</h6>
        <select class="chosen-select" id="answer6">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 7</h5>
        <h6>You enjoy trying new cuisines?</h6>
        <select class="chosen-select" id="answer7">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 8</h5>
        <h6>You speak more than one language?</h6>
        <select class="chosen-select" id="answer8">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 9</h5>
        <h6>You like meeting new people?</h6>
        <select class="chosen-select" id="answer9">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <h5>Question 10</h5>
        <h6>You are pretty much a happy person?</h6>
        <select class="chosen-select" id="answer10">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <br> <br> <br>
    </form>
    <button type="submit" class="btn btn-success btn-md" id="submit-btn"><span class="fa"></span> Submit Your Survey
    </button>



<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Your Most Compatible Friend</h3>
        <hr>
        <p id="mostCompatibleName"></p>
        <br>
        <img id="mostCompatiblePhoto" src="" alt="">
    </div>

</div>
</div>

<script type="text/javascript">
    $("#submit-btn").on("click", function (event) {
        event.preventDefault();
        var newFriend = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            answer1: $("#answer1").val().trim(),
            answer2: $("#answer2").val().trim(),
            answer3: $("#answer3").val().trim(),
            answer4: $("#answer4").val().trim(),
            answer5: $("#answer5").val().trim(),
            answer6: $("#answer6").val().trim(),
            answer7: $("#answer7").val().trim(),
            answer8: $("#answer8").val().trim(),
            answer9: $("#answer9").val().trim(),
            answer10: $("#answer10").val().trim(),
        };

        console.log(newFriend);

        $.post("/api/friends", newFriend,
            function (data) {
                //  call function to compare here
                if (data) {
                    console.log("Data Added");
                    console.log("Data = " + data.name)


                    // Get the modal
                    var modal = document.getElementById("myModal");

                    // Get the button that opens the modal
                    // var btn = document.getElementById("submit-btn");
                    $("#mostCompatibleName").text(data.name);
                    $("#mostCompatiblePhoto").attr("src", data.photo);



                    // Get the <span> element that closes the modal
                    var span = document.getElementsByClassName("close")[0];

                    // When the user clicks on the button, open the modal
                    // btn.onclick = function () {
                        modal.style.display = "block";
                    // }

                    // When the user clicks on <span> (x), close the modal
                    span.onclick = function () {
                        modal.style.display = "none";
                    }

                    // When the user clicks anywhere outside of the modal, close it
                    window.onclick = function (event) {
                        if (event.target == modal) {
                            modal.style.display = "none";
                        }
                    }

                } else {
                    console.log("Did not work");
                }

                // Clear form
                $("#name").val("");
                $("#photo").val("");
                $("#answer1").val("");
                $("#answer2").val("");
                $("#answer3").val("");
                $("#answer4").val("");
                $("#answer5").val("");
                $("#answer6").val("");
                $("#answer7").val("");
                $("#answer8").val("");
                $("#answer9").val("");
                $("#answer10").val("");
            });
    });
</script>

<!--<script type="text/javascript" src="friendsModal.js"></script>-->

</body>
</html>